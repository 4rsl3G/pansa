:root{
  --bg:#040407;
  --panel: rgba(255,255,255,.06);
  --stroke: rgba(255,255,255,.10);
  --stroke2: rgba(255,255,255,.07);
  --txt: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.62);
  --muted2: rgba(255,255,255,.44);
  --glow: 0 0 0 1px rgba(255,255,255,.08), 0 18px 70px rgba(0,0,0,.65);
  --r16: 16px;
  --r20: 20px;
  --r24: 24px;
}

html,body{ background: var(--bg); }
body{ color: var(--txt); }

/* Ambient background */
.bg-ambient{
  position: fixed; inset:0; z-index:-10; pointer-events:none;
  background:
    radial-gradient(700px 380px at 20% 0%, rgba(99,102,241,.22), transparent 55%),
    radial-gradient(740px 420px at 100% 30%, rgba(217,70,239,.18), transparent 55%),
    radial-gradient(740px 420px at 55% 100%, rgba(16,185,129,.10), transparent 55%),
    radial-gradient(900px 460px at 50% 50%, rgba(255,255,255,.06), transparent 50%);
}

/* Film grain */
body::after{
  content:"";
  pointer-events:none;
  position:fixed; inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.12'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  opacity:.10;
  z-index:9999;
}

/* Nav */
.nav-blur{
  position: sticky; top:0; z-index:50;
  backdrop-filter: blur(14px);
  background: rgba(4,4,7,.55);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.brandMark{
  height: 40px; width: 40px;
  border-radius: 14px;
  display:grid; place-items:center;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: var(--glow);
  transition: transform .25s ease;
}
.brand:hover .brandMark{ transform: translateY(-1px) scale(1.02); }
.brandMark i{ font-size: 20px; }

.searchShell{
  position: relative;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  overflow:hidden;
}
.searchIcon{
  position:absolute; left:14px; top:50%; transform: translateY(-50%);
  color: rgba(255,255,255,.55);
}
.searchInput{
  width:100%;
  padding: 12px 92px 12px 44px;
  background: transparent;
  outline:none;
  font-size: 14px;
  color: rgba(255,255,255,.92);
}
.searchInput::placeholder{ color: rgba(255,255,255,.45); }
.searchBtn{
  position:absolute; right:8px; top:50%; transform: translateY(-50%);
  padding: 8px 14px;
  border-radius: 14px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.10);
  transition: .2s ease;
}
.searchBtn:hover{ background: rgba(255,255,255,.14); }

.pill{
  display:inline-flex; align-items:center; gap:8px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  transition: .2s ease;
}
.pill:hover{ background: rgba(255,255,255,.10); transform: translateY(-1px); }

.langMenu{
  display:none;
  position:absolute; right:0; margin-top: 10px;
  width: 260px; max-height: 340px; overflow:auto;
  border-radius: 18px;
  background: rgba(4,4,7,.92);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: var(--glow);
}
.group:hover .langMenu{ display:block; }
.langItem{
  display:block; padding: 12px 14px;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.langItem:hover{ background: rgba(255,255,255,.06); }
.langItem:last-child{ border-bottom:none; }

/* Panels & buttons */
.panel{
  border-radius: var(--r24);
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: var(--glow);
}
.btnPrimary{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(255,255,255,.92);
  color: rgba(0,0,0,.92);
  font-weight: 800;
  transition: .2s ease;
  box-shadow: var(--glow);
}
.btnPrimary:hover{ transform: translateY(-1px); filter: brightness(1.03); }
.btnGhost{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding: 12px 14px;
  border-radius: 16px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  transition: .2s ease;
}
.btnGhost:hover{ background: rgba(255,255,255,.10); transform: translateY(-1px); }

.tagPill{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(255,255,255,.86);
}

.rowHead{ display:flex; align-items:flex-end; justify-content:space-between; gap:12px; }
.rowTitle{ font-family: Unbounded, ui-sans-serif; font-size: 18px; letter-spacing: -.02em; }
.rowSub{ color: var(--muted2); font-size: 13px; }
.rowLink{ color: rgba(255,255,255,.76); font-size: 13px; }
.rowLink:hover{ color: rgba(255,255,255,.92); }

/* Hero */
.heroWrap{
  position: relative;
  border-radius: var(--r24);
  overflow:hidden;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  box-shadow: var(--glow);
}
.heroBg{ position:absolute; inset:0; }
.heroBgImg{
  width:100%; height:100%; object-fit:cover;
  opacity:.35;
  transform: scale(1.08);
  filter: blur(2px);
}
.heroWrap::before{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(110deg, rgba(4,4,7,.95), rgba(4,4,7,.55), transparent 70%);
}
.heroContent{ position:relative; padding: 18px; }
@media (min-width:640px){ .heroContent{ padding: 26px; } }

.chip{
  display:inline-flex; align-items:center; gap:8px;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
}
.heroTitle{
  margin-top: 12px;
  font-family: Unbounded, ui-sans-serif;
  font-size: 26px;
  line-height: 1.1;
  letter-spacing: -.03em;
}
@media (min-width:640px){ .heroTitle{ font-size: 40px; } }
.heroDesc{ margin-top: 10px; color: rgba(255,255,255,.78); max-width: 60ch; }
.heroTags{ display:flex; flex-wrap:wrap; gap:8px; margin-top: 12px; }
.heroBtns{ display:flex; flex-wrap:wrap; gap:10px; margin-top: 14px; }
.heroStats{
  display:grid; grid-template-columns: repeat(3, 1fr);
  gap: 10px; margin-top: 14px;
}
.statBox{
  padding: 12px;
  border-radius: 18px;
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.10);
}
.statLabel{ font-size: 12px; color: var(--muted2); }
.statVal{ margin-top: 2px; font-weight: 800; font-size: 18px; }

/* Vertical cards */
.vCard{ display:block; border-radius: var(--r20); overflow:hidden; }
.vPoster{ position:relative; aspect-ratio: 9 / 16; overflow:hidden; border-radius: var(--r20); }
.vPosterImg{
  width:100%; height:100%;
  object-fit: cover;
  transition: transform .5s ease, filter .5s ease, opacity .5s ease;
}
.vCard:hover .vPosterImg{ transform: scale(1.08); }
.vShade{
  position:absolute; inset:0;
  background: linear-gradient(to top, rgba(0,0,0,.78), rgba(0,0,0,.12), transparent);
}
.vBadge{
  position:absolute; top:10px; left:10px;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.10);
}
.vMeta{ position:absolute; bottom:0; left:0; right:0; padding: 12px; }
.vName{ font-weight: 800; line-height:1.15; }
.vMini{ display:flex; gap:10px; margin-top: 8px; font-size: 12px; color: rgba(255,255,255,.74); }
.vTagline{ margin-top: 8px; font-size: 12px; color: rgba(255,255,255,.62); }

/* Empty box */
.emptyBox{
  padding: 16px;
  border-radius: var(--r20);
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.78);
}

/* Title big poster */
.posterBig{ position:relative; aspect-ratio: 9/16; overflow:hidden; border-radius: var(--r24); }
.posterBigImg{ width:100%; height:100%; object-fit:cover; }
.posterBigShade{
  position:absolute; inset:0;
  background: linear-gradient(to top, rgba(0,0,0,.92), rgba(0,0,0,.10));
}
.posterBigMeta{ position:absolute; left:0; right:0; bottom:0; padding: 16px; }
@media (min-width:640px){ .posterBigMeta{ padding: 20px; } }

.miniChips{ display:flex; flex-wrap:wrap; gap:8px; }
.chip2{
  display:inline-flex; align-items:center; gap:8px;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(255,255,255,.86);
}

/* Episodes */
.epBtn{
  display:block;
  padding: 10px 8px;
  border-radius: 16px;
  background: rgba(0,0,0,.22);
  border: 1px solid rgba(255,255,255,.10);
  text-align:center;
  transition: .18s ease;
}
.epBtn:hover{ background: rgba(255,255,255,.07); transform: translateY(-1px); }
.epTop{ font-size: 11px; color: var(--muted2); }
.epNum{ font-weight: 900; font-size: 18px; margin-top: 2px; }
.epLock{ margin-top: 6px; font-size: 11px; display:flex; align-items:center; justify-content:center; gap:6px; }
.epLock.lock{ color: rgba(252,211,77,.92); }
.epLock.free{ color: rgba(110,231,183,.92); }

.resumeBox{
  margin-top: 12px;
  padding: 12px;
  border-radius: 18px;
  background: rgba(0,0,0,.22);
  border: 1px solid rgba(255,255,255,.10);
}

/* Watch layout: mobile first (stack), desktop becomes 2 columns */
.watchHead{ display:flex; align-items:flex-end; justify-content:space-between; gap:12px; flex-wrap:wrap; }
.watchActions{ display:flex; gap:8px; align-items:center; }
.watchGrid{ display:grid; gap:12px; }
@media (min-width:1024px){
  .watchGrid{ grid-template-columns: 1.7fr 1fr; gap: 14px; }
}

/* Vertical player wrapper */
.pPlayer{ padding: 12px; }
.pStage{
  position: relative;
  border-radius: 22px;
  overflow: hidden;
  background: rgba(0,0,0,.55);
  border: 1px solid rgba(255,255,255,.08);
}

/* Key: vertical aspect */
.pVideo{
  width: 100%;
  aspect-ratio: 9 / 16;
  background: #000;
  display:block;
}
@media (min-width:1024px){
  /* on desktop keep vertical but centered and not too huge */
  .pVideo{
    max-height: 78vh;
    width: min(420px, 100%);
    margin: 0 auto;
    border-radius: 20px;
  }
  .pStage{ padding: 10px 0; }
}

/* top chips */
.pTopChips{
  position:absolute; left:12px; right:12px; top:12px;
  display:flex; justify-content:space-between; gap:10px;
  pointer-events:none;
}
.pTopChips .chip2{ pointer-events:auto; background: rgba(4,4,7,.68); }

.pControls{
  position:absolute; left:0; right:0; bottom:0;
  padding: 12px;
  background: linear-gradient(to top, rgba(0,0,0,.82), rgba(0,0,0,.22), transparent);
  transition: opacity .2s ease;
}
.pSeekWrap{ }
.pSeek{
  position: relative;
  height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.18);
  overflow:hidden;
  cursor:pointer;
}
.pSeekFill{ position:absolute; inset:0 auto 0 0; width:0%; background: rgba(255,255,255,.85); }
.pSeekKnob{
  position:absolute; top:50%;
  transform: translate(-50%,-50%);
  height: 16px; width: 16px;
  border-radius: 999px;
  background: rgba(255,255,255,.95);
  box-shadow: var(--glow);
  left: 0%;
}
.pTimeRow{
  display:flex; justify-content:space-between;
  margin-top: 8px;
  font-size: 12px;
  color: rgba(255,255,255,.78);
}
.muted{ color: var(--muted2); }

.pBtnRow{
  display:flex; justify-content:space-between; gap:10px;
  margin-top: 10px;
  flex-wrap:wrap;
}
.pLeft,.pRight{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.pBtnMain{
  height: 44px; width: 44px;
  border-radius: 16px;
  background: rgba(255,255,255,.92);
  color: rgba(0,0,0,.92);
  display:grid; place-items:center;
  box-shadow: var(--glow);
  transition: .2s ease;
}
.pBtnMain:hover{ transform: translateY(-1px); }
.pBtnMain i{ font-size: 20px; }

.pBtn{
  height: 44px; width: 44px;
  border-radius: 16px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
  display:grid; place-items:center;
  transition: .2s ease;
}
.pBtn:hover{ background: rgba(255,255,255,.12); transform: translateY(-1px); }
.pBtn i{ font-size: 20px; }

.pBtnWide{
  height: 44px;
  padding: 0 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
  display:inline-flex; align-items:center; gap:8px;
  transition: .2s ease;
}
.pBtnWide:hover{ background: rgba(255,255,255,.12); transform: translateY(-1px); }

.pVol{
  display:flex; align-items:center; gap:8px;
  padding: 10px 12px;
  height: 44px;
  border-radius: 16px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
}
.pVol input{ width: 96px; accent-color: #fff; }

.pSelect{
  display:flex; align-items:center; gap:8px;
  padding: 10px 12px;
  height: 44px;
  border-radius: 16px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
}
.pSelect select{
  background: transparent;
  outline:none;
  font-size: 13px;
}

/* Buffer overlay */
.pBuffer{
  position:absolute; inset:0;
  display:grid; place-items:center;
  background: rgba(0,0,0,.55);
  z-index:10;
}
.pSpinner{
  height: 44px; width: 44px;
  border-radius: 999px;
  border: 3px solid rgba(255,255,255,.20);
  border-top-color: rgba(255,255,255,.85);
  animation: spin 0.9s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg); } }
.pBufferText{ margin-top: 10px; font-size: 13px; color: rgba(255,255,255,.82); text-align:center; }
.pRetry{
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.12);
  transition: .2s ease;
}
.pRetry:hover{ background: rgba(255,255,255,.14); transform: translateY(-1px); }

/* Next overlay */
.pNext{
  position:absolute; inset:0;
  display:grid; place-items:center;
  background: rgba(0,0,0,.60);
  z-index:11;
}
.pNextCard{
  width: min(420px, 92%);
  border-radius: 22px;
  background: rgba(4,4,7,.88);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: var(--glow);
  padding: 16px;
  text-align:center;
}
.pNextTitle{
  font-family: Unbounded, ui-sans-serif;
  font-size: 22px;
  margin-top: 6px;
}
.pNextRow{ display:flex; gap:10px; margin-top: 14px; }

/* Player footer */
.pFooter{
  display:flex; justify-content:space-between; align-items:center;
  gap:10px; padding: 10px 4px 2px;
}

/* Hint box */
.hintBox{
  padding: 12px;
  border-radius: 18px;
  background: rgba(0,0,0,.22);
  border: 1px solid rgba(255,255,255,.10);
  font-size: 12px;
  color: rgba(255,255,255,.78);
}

/* Skeletons */
.sk{
  position: relative; overflow:hidden;
  background: rgba(255,255,255,.07);
  border: 1px solid rgba(255,255,255,.08);
}
.sk::after{
  content:"";
  position:absolute; inset:-40%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.14), transparent);
  animation: shimmer 1.2s linear infinite;
}
@keyframes shimmer{ 0%{ transform: translateX(-60%);} 100%{ transform: translateX(60%);} }

.skPoster{ border-radius: 18px; aspect-ratio: 9/16; }
.skLine{ height: 10px; border-radius: 999px; }
.w44{ width: 44%; }
.w60{ width: 60%; }
.w72{ width: 72%; }
.mt10{ margin-top:10px; }
.mt8{ margin-top:8px; }

/* Lazy image */
img[data-lazy="true"]{
  filter: blur(14px);
  transform: scale(1.05);
  opacity: .75;
  transition: .55s ease;
}
img[data-lazy="true"].is-loaded{
  filter: blur(0);
  transform: scale(1);
  opacity: 1;
}

/* Overlay global */
#pageOverlay{
  position: fixed; inset: 0;
  display: none;
  z-index: 9998;
  backdrop-filter: blur(12px);
  background: rgba(0,0,0,.45);
}
.overlayCenter{ height:100%; display:grid; place-items:center; padding: 16px; }
.overlayCard{
  width: min(860px, 100%);
  border-radius: 24px;
  background: rgba(4,4,7,.82);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: var(--glow);
  padding: 16px;
}
.overlayTop{ display:flex; gap:12px; align-items:center; }
.skIcon{ height: 44px; width: 44px; border-radius: 18px; }
.overlayLines{ flex:1; display:flex; flex-direction:column; gap:10px; }
.overlayGrid{ margin-top: 14px; display:grid; grid-template-columns: repeat(2,1fr); gap: 12px; }
@media (min-width:640px){ .overlayGrid{ grid-template-columns: repeat(4,1fr);} }
.overlayMini{ }
.overlayHint{ margin-top: 12px; text-align:center; font-size: 12px; color: rgba(255,255,255,.62); }

/* Card parallax */
.card{ transform: translateZ(0); }
